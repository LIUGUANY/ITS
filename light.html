<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>智能交通虚拟仿真软件-智能交通灯</title>
		<link rel="stylesheet" href="css/style.css" />
		<script src="js/jquery-1.7.1.min.js"></script>
	</head>
	<body>
		<div class="head">智能交通虚拟仿真软件</div>
		<div class="w1200 clearfix homepage light">
			<section class="fl clearfix left_con of">
				<p class="traffic_light_car">
					<i class="red_car_icon red_car_1 two_car three_car"></i>
					<i class="red_car_icon red_car_2"></i>
				</p>
				<div class="left_top_light">
					<i class="green_icon gray_icon"></i>
					<i class="yellow_icon"></i>
					<i class="red_icon "></i>
					<i class="number_text">40</i>
				</div>
				<div class="left_bottom_light">
					<i class="green_icon"></i>
					<i class="yellow_icon"></i>
					<i class="red_icon"></i>
					<i class="number_text">40</i>
				</div>
				<div class="right_top_light">
					<i class="green_icon"></i>
					<i class="yellow_icon"></i>
					<i class="red_icon "></i>
					<i class="number_text">40</i>
				</div>
				<div class="right_bottom_light">
					<i class="green_icon"></i>
					<i class="yellow_icon"></i>
					<i class="red_icon"></i>
					<i class="number_text">40</i>
				</div>
			</section>
			<section class="fr right_con">
				<div class="title">
					<a class="back fl"></a>
					<span>智能交通灯</span>
				</div>				
				<table>
					<tr><td colspan="2">车流量</td></tr>
					<tr>
						<td width="130" style="border-right: 1px solid rgba(76,76,76,.76);">横向</td>
						<td>
							<div>
								<a class="plus fl"></a>
								<input type="text" value="1" class="fl"  disabled="disabled"/>
								<a class="minus fr"></a>
							</div>
						</td>
					</tr>
					<tr style="border:none">
						<td style="border-right: 1px solid rgba(76,76,76,.76);">纵向</td>
						<td>
							<div>
								<a class="plus fl"></a>
								<input type="text" value="3" class="fl" disabled="disabled"/>
								<a class="minus fr"></a>
							</div>
						</td>
					</tr>
				</table>
			</section>
		</div>
	<!--小车动画-->
		<script>
			//横向
				function play_car(time){
					var $time=time;
					console.log($time);
					var $car = $('.traffic_light_car .red_car_1');
					$car.animate({"left":"340px"},{duration:2000,step:function(){
						$(this).css('opacity','1');
					}}).delay($time).animate({'left':'-100px'},{duration:3000,step:function(){
						$(this).css('opacity','1');
					}}).animate({'left':'658px'},{duration:0,step:function(){
						$(this).css('opacity','0');
					}});
				}
				play_car(1000);
				setInterval(function(){play_car(5000)},1);
			/*function play_car(){
				var $car = $('.traffic_light_car .red_car_1');
				$car.animate({"left":"750px"});
				$car.animate({"left":"340px"},{duration:2000,step:function(){
					$(this).css('opacity','1');
				}});
				$car.animate({"opacity":"0"},0);
			}
			function play_left_car(){
				var $car = $('.traffic_light_car .red_car_1');
				$car.animate({"left":"340px"});
				$car.animate({"left":"-200px"},{duration:2000,step:function(){
					$(this).css('opacity','1');
				}});
				$car.animate({"opacity":"0"},0);
			}
			for(var i=0;i<=3;i++){
				play_left_car();
			 }*/
			/*交通灯通过class判断--动态无法实现*/
/*			function play_car(){
				 var $car = $('.traffic_light_car .red_car_1');
				$car.animate({"left":"340px"},{duration:2000,step:function(){
				    $(this).css('opacity','1');
				 }})
				if($('.left_top_light .red_icon').hasClass('active')){
					return false;
				}else{
					$car.animate({"left":"-140px"},{duration:2000,step:function(){
						$(this).css('opacity','1');
					}})
					$car.animate({"left":"658px"},{duration:2000,step:function(){
						$(this).css('opacity','0');
					}})
				}
			 }
			 setInterval(play_car,100);*/
			/*交通灯通过class判断--动态无法实现*/
				/*纵向*/
				function play_car_2(){
					var $car = $('.traffic_light_car .red_car_2');
					$car.animate({"bottom":"335px"},{duration:3000,step:function(){
						$(this).css('opacity','1');
					}}).delay(2000).animate({'bottom':'-200px'},{duration:3000,step:function(){
						$(this).css('opacity','1');
					}}).animate({'bottom':'700px'},{duration:0,step:function(){
						$(this).css('opacity','0');
					}});
				}
				setInterval(play_car_2,200);
				//上-->灯
				function play_car_top(){
					var $car = $('.traffic_light_car .red_car_2');
					$car.animate({"bottom":"335px"},{duration:3000,step:function(){
						$(this).css('opacity','1');
					}})
				}
				//灯-->下
				function play_car_bom(){
					var $car = $('.traffic_light_car .red_car_2');
					$car.animate({'bottom':'-200px'},{duration:3000,step:function(){
						$(this).css('opacity','1');
					}})
					$car.animate({'bottom':'700px'},{duration:0,step:function(){
						$(this).css('opacity','0');
					}});
				}
				/*play_car_top();
				play_car_bom();*/
		</script>
	</body>
</html>
